# 3장 내용정리
## 데이터 전송방식
  * 유니캐스트
    - 1:1 통신
    - 출발지와 목적지가 1:1로 통신 (HTTP)
  * 브로드캐스트
    - 1:ALL 통신
    - 동일 네트워크에 존재하는 모든 호스트가 목적지 
    - 모든 호스트에게 데이터 전송을 할 때 이용 (ARP)
  * 멀티캐스트
    - 1:N 통신
    - 하나의 출발지에서 다수의 특정 목적지로 데이터 전송
    - 단방향으로 다수에게 내용 전달 시 사용 (IPTV)
  * 애니캐스트
    - 1:1 통신(동일 그룹 내 1개 호스트)
    - 동일 그룹 중 가장 가까운 호스트에서 응답
    - 가장 가까운 DNS나 게이트웨이를 찾을 때 사용
    - 유니캐스트와 달리 목적기의 후보가 여러개임
## MAC 주소
  * 구성
    - 48비트로 구성되어 있고 앞에 24비트는 제조사코드 뒤에 24비트는 제조사에서 지정한 값
  * 동작 원리
    - 2계층에서 패킷으로 변환하여 내용 구분후 도착지 MAC주소 확인 주소가 다를 경우 폐기
    - 
## IP 주소
  * 구성
    - 32비트로 나누고 8비트(옥텟)씩 . 으로 구분 
    - 네트워크 주소, 호스트 주소로 구성
      + IP주소 체계에서는 맨 앞 주소를 네트워크 주소, 맨 뒷주소를 브로드캐스트 주소로 사용
  * 서브넷팅
    - 클래스 풀 네트워크를 분할 하여 사용
    - 유효 범위 계산법
        * IP를 2진수로 표현
        * 서브넷 마스크를 2진수로 표현
        * IP주소와 서브넷마스크를 AND연산 한 주소가 네트워크 주소
        * 호스트 주소 부분을 1로 모두 변경하여 브로드캐스트 주소를 알아냄
    - 네트워크 설계 방법
        * 사설 IP 대역을 이용하여 충분한 IP대역을 사용
        * C 클래스 단위인 24비트로 쪼개 구성하는것이 바람직
## TCP/UDP
  * 헤더의 구성 및 원리
    - 송신에서 보낸 해당 계층의 정보는 수신의 해당 계층에서 사용
    - 상위 프로토콜 지시자
      + 2계층 → 이더타입 3계층 → 프로토콜 번호 4계층 → 포트번호
    - 데이터 송/수신을 감독하는 계층
    - 사용하는 장비는 LoadBalancer/방화벽
      + 대표 IP를 LoadBalaner에 설정 해두고 로드 밸런서가 각 웹서버로 패킷의 목적지 IP주소를 변경해 보내는 역할
  * TCP
    - 세선을 안전하게 연결하고, 데이터 송/수신이 잘 되었는지 확인하는 역할을 함
    - 패킷에 sequencenumber를 부여하고 잘 전송이되었는지 응답 까지 함
    - 연결방식 3방향 핸드셰이크
    - 전이중, 데이터 전송
  * UDP
    - 비연결형, 오류/흐름제어 없음
    - 반이중, 실시간 트래픽 전송시 사용
  * ARP
    - IP주소로 MAC주소를 알아내는 프로토콜
    - 주소 사이에 관계가 없는 프로토콜에서 물리적 주소와 논리적 주소를 연결 할 때 사용
    - 원리
      + 목적지의 MAC주소를 알아내기 위해 ARP 요청을 네트워크에 브로드캐스트
      + 브로드캐스트시 도착지를 브로드캐스트로 표시하고, 전송자 MAC주소와 IP 주소는 자신의 주소, 대상자 MAC주소를 00으로 표시
      + 네트워크에 있는 단말기들은 자신한테 해당인 내용인지 확인후 관련없으면 폐기
      + 대상자는 응답하여 ARP필드를 다 채워 응답
        + 응답 시, 유니캐스트로 송신
      + 테이블이 생성 후 ARP 캐시 테이블을 갱신 한 후, 정해진 시간동안 통신이 없어질 때 까지 유지
    - GARP
      + 자신의 IP와 MAC 주소를 알릴 목적으로 사용
      + 목적지 MAC주소는 브로드캐스트를 이용
      + 대상자 MAC 주소르 00으로 채우고, IP 주소는 자신과 동일
      + 사용 이유
        + IP 주소 충돌감지
        + 상대방의 ARP 테이블 갱신
        + HA 용도의 클러스터링, VRRP, HSRP
        
## 서브넷과 게이트웨이
  * 용도 
    - 네트워크 넘어 통신을 할때 이용
  * 네트워크 간의 통신과 네트워크 구분을 위해 사용되는 것이 서브넷 마스크
